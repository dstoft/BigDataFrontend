<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>CovidPositivism WebPage</title>
  <meta name="description" content="Visualizing live and historical Twitter feed data on the topic of Covid sentiments">
  <meta name="author" content="Group2">

  <link rel="stylesheet" href="style.css">
    
  <!--Graph libraries:-->
  <script src="https://d3js.org/d3.v6.min.js"></script>
  
  <script src="https://cdn.jsdelivr.net/npm/vega@5.17.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.17.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>

  <!--Custom Graph Scripts:-->
  <script src="graphs/simpleVega.js"></script>
  <script src="graphs/simpleGraph.js"></script>

</head>

<body>
  <div class="fixedTop">
	<table>
		<tr>
			<td>
			<a href="/">Home</a>
			</td>
			<td>
			<a href="wordClouds">Word Clouds</a>
			</td>
            <td>
                <a href="wordCloudsHive">Word Clouds with Hive</a>
            </td>
		</tr>
	</table>
  </div>
  <div class="content">
  	<div style="height:100px"></div>
  	<pre id="analysedData" style="max-height:250px; overflow-y:scroll; overflow-x:scroll;">data here:</pre>
  	<script src="utf8.js"></script>
  	<script>
		fetchData()
	
		async function fetchData(){
			var entries = []
			var negativeWords = []
			var positiveWords = []
			console.log("Fetching hist data..");
    			const response = await fetch('http://localhost:3000/histdata');
    			const data = await response.json();
			var text = utf8.decode(data)
			document.getElementById("analysedData").textContent = text
		}
  	</script>
    </diV>
</body>
</html>
