<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>CovidPositivism WebPage</title>
  <meta name="description" content="Visualizing live and historical Twitter feed data on the topic of Covid sentiments">
  <meta name="author" content="Group2">

  <link rel="stylesheet" href="style.css">
  
  <!--Graph libraries:-->
  <script src="https://d3js.org/d3.v6.min.js"></script>
  
  <script src="https://cdn.jsdelivr.net/npm/vega@5.17.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.17.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.12.2"></script>

  <!--Custom Graph Scripts:-->
  <script src="graphs/simpleVega.js"></script>
  <script src="graphs/simpleGraph.js"></script>

</head>

<body>
  <div class="fixedTop">
	<table>
		<tr>
			<td>
			<a href="/">Home</a>
			</td>
			<td>
				<a href="wordClouds">Word Clouds</a>
			</td>
			<td>
				<a href="wordCloudsHive">Word Clouds with Hive</a>
			</td>
		</tr>
	</table>
  </div>

  <div class="content">
  	<div style="height:100px"></div>
  	<pre id="analysedData" style="max-height:250px; overflow-y:scroll; overflow-x:scroll;">data here:</pre>
  	<script src="utf8.js"></script>
  	<script>
		fetch('http://localhost:3000/hive/neg')
				.then(response => response.json())
				.then(data=>{
					var negWords = [];
					data.forEach(wordObj => negWords.push(wordObj["word"]));
					createWordCloud(negWords, "neg")
				});
		fetch('http://localhost:3000/hive/pos')
				.then(response => response.json())
				.then(data=>{
					var posWords = [];
					data.forEach(wordObj => posWords.push(wordObj["word"]));
					createWordCloud(posWords, "pos")
				});
  	</script>  
  	<h1>Wordcloud of negative words:</h1>
  	<div class="vegaContainer" id="neg"></div>

  	<h1>Wordcloud of positive words:</h1>
  	<div class="vegaContainer" id="pos"></div>
  </div>
</body>
</html>
